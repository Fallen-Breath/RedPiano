绝对音高  // 这个没啥用，看看就行
{
    频率标准 A4 = 440 Hz
    音阶
    {
        其他方块harp   F#3,G3,G#3,...,F5,F#5
        黏土块flute    F#4,G4,G#4,...,F6,F#6
        金块bell       F#5,G5,G#5,...,F7,F#7
    }
}


MC音符盒的物品编码
{
    // 8gt一个物品，表示该8gt时间段内演奏的音
    
    音符盒调音次数  // 按解码器顺序排列
    {
        0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24
    }
    
    编码物品命名  // 用音符盒调音次数和音名作为物品的命名，格式：次数_音名
    {
        0_F#,1_G,2_G#,3_A,4_A#,5_B,6_C,7_C#,8_D,9_D#,10_E,11_F,12_F#,13_G,14_G#,15_A,16_A#,17_B,18_C,19_C#,20_D,21_D#,22_E,23_F,24_F#
    }
    
    编码物品种类
    {
        // 各种混凝土、混凝土粉末。。。
    }
}

MC节奏的物品编码
{
    // 8gt一个物品，表示该8gt时间段内以何种节奏进行演奏
    // 共设置15种节奏。8gt被分为四段，用4bit表示每一段是否发声
    
    编码物品命名  // 除0000以外的4位二进制数
    {
        0001,0010,0011,...,1111
    }
    
    编码物品种类
    {
        //15色地毯
    }
}



乐谱格式和映射规则
{
    // 参考简谱的规则，音调和节奏分开编码
    // 用1,2,3,4,5,6,7表示相对音高
    // 用-,_,*,来表示音的长短
    // 开头需要确定调性，即 1 对应的音符盒。例如 1=C ，表示 1 对应 6_C
    
    竖线 | 为小节分隔符，不翻译
    
    音调映射规则
    {
        用 1= 确定调性，也就是 1 对应的音符盒
        {
            将 1= 后面的字母作为音高的基准，映射关系为
            {
                A       3_A
                A#      4_A#
                B       5_B
                C       6_C
                C#      7_C#
                D       8_D
                ...
                G       13_G
                G#      14_G#
            }
            
            若用户没有说明，则默认 1=C
        }
        
        将简谱数字翻译为音符盒的编码
        {
            读取一个简谱数字（1,2,3,...,7）
            若读取到 0 ，则直接对应占位符，跳过下面的步骤
            
            根据简谱数字，在音高基准上偏移一定量，得到对应的音符盒编码
            {
                1       偏移量 0
                2       偏移量 2
                3       偏移量 4
                4       偏移量 5
                5       偏移量 7
                6       偏移量 9
                7       偏移量 11
                // 例如，在 1=C 的情况下，4 表示 6_C 偏移5个，变成 11_F
                // 例如，在 1=E 的情况下，4 表示 10_E 偏移5个，变成 15_A
            }
            
            读取数字前的升降记号
            {
                若该数字前有 # 符号，则偏移量 +=1
                若该数字前有 b 符号，则偏移量 -=1
                若没有，则不变
                // 例如，#4 的偏移量为 5+1=6，在 1=C 的情况下表示 12_F#
            }
            
            读取数字后的跨八度符号
            {
                若该数字后有 ' 符号，则偏移量 +=12
                若该数字后有 , 符号，则偏移量 -=12
                若该数字后有多个连续的 ' 或 , 符号，则效果依次叠加
                若没有，则不变
                // 例如，1’ 的偏移量为 0+12，在 1=C 的情况下表示 18_C
            }
            
            检查最终的音符是否存在，有没有超界
        }
    }
    
    节奏映射规则
    {
        在乐谱开头，读取“长音”或“短音”，选择模式。若没有，则默认短音模式
        
        读取两个空格之间的一串简谱数字（一个、两个、四个）
        //用空格分隔的一串简谱数字，在同一个8gt时间段内演奏
        
        若只有一个数字
        {
            // 四分音符
            若为长音模式
                节奏为 1111
            若为短音模式
                节奏为 1000
        }
        
        若有两个数字
        {
            // 两个八分音符
            若两个数字表示的音符相同
            {
                若为长音模式
                    节奏为 1111
                若为短音模式
                    节奏为 1010
            }
            
            若两个数字表示的音符不同
            {
                两个音符分别写入两个音轨
                
                若为长音模式
                    第一个音符，节奏为 1100
                    第二个音符，节奏为 0011
                若为短音模式
                    第一个音符，节奏为 1000
                    第二个音符，节奏为 0010
            }
            
            若有休止符 0 ，则不写入音轨
            
            //例子：02 翻译为 8_D 0011（长音模式）  或   8_D 0010（短音模式）
        }
        
        若有四个数字
        {
            //四个十六分音符
            
            四个音符中，相同的音符写入同一个音轨，不同的写入不同的音轨
            若有休止符 0 ，则不写入音轨
            
            第一个音符，节奏为 1000
            第二个音符，节奏为 0100
            第三个音符，节奏为 0010
            第四个音符，节奏为 0001
            
            相同的音符，节奏做或运算
            
            //例如: 1214 翻译为三条音轨，第一条 6_C 1010，第二条 8_D 0100，第三条 11_F 0001
        }
        
        若只读取到 - 符号
        {
            // 延音符号
            
            若为短音模式
                等效于一个 0
            
            若为长音模式
            {
                复制前一个四分音符
                若 - 前的不是四分音符，则语法错误
            }
            
            //例如：2 - ，长音模式下等效于 2 2 ，短音模式下等效于 2 0
        }
    }
    
    
    
    示例1：

    输入乐谱：

    1=C
    长音
    
    | 1 1 2 3 | 3 02 2 - |

    输出一条音轨
    
    音调编码：
    6_C 6_C 8_D 10_E 10_E 8_D 8_D 8_D

    节奏编码
    1111 1111 1111 1111 1111 0011 1111 1111
    
    
    示例2：
    
    输入乐谱：
    
    1=C
    短音
    
    | 6,7, 12 3 0 |
    
    输出两条音轨
    
    音轨1
    3_A 6_C 10_E 占位符
    1000 1000 1000 占位符
    
    音轨2
    5_B 8_D 占位符 占位符
    0010 0010 占位符 占位符
    


}


    

